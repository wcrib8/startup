# CS 260 Notes

[My startup - Simon](https://simon.cs260.click)

## Helpful links

- [Course instruction](https://github.com/webprogramming260)
- [Canvas](https://byu.instructure.com)
- [MDN](https://developer.mozilla.org)

## Wolf Notes

assignment 1 - github: I learned a lot about repositories, using git and github, and how useful it will be for my startup. Excited to be able to build my own projects and share them here.

## Learning Notes

### Amazon Web Services AWS - EC2

web server - another computer that can be constantly running, allows web applications to be up 24/7. connects through IP address, which a domain will change to a url. The same could be done with a laptop, but would require my laptop to always be available, have enough power to support millions of fans.
web server is located in a data center. 
key pair is a file that acts as a password for your AWS account. 
SSH is secure shell, lets you connect to your server. Caddy file is the configuration file for your web service gateway. 
Elastic IP address allows you to not change an IP address everytime a server is started up.

### HTTPS, TLS, web certificates

HTTPS is the secure version of HTTP, allows only endpoints, server and user, to access data. Seeing the console program traceroute, we know sometimes data passes through many computers to reach you, we don't want everyone to have our information. 

Data is encrypted using the TLS protocol, which works by having a shared secret to encrypt data. It goes through a complex negotiation process, a core piece of this exchange is web certificates. Web certificates help identify the domain name to the one represented in the URL. If no match, then a big warning is displayed.

Web certificates are generated by a third party, creates a key encryption. REsponsible for verifying the certificate owner owns the domain name.
Caddy uses lets encrypt to generate a web certificate, lets encrypt tells the requester to return specific digital response. when successful, issues a certificate. 

### HTML Structure

two major elements - structure and content to web app. 
- body, header, footer, main, section, aside, p, table, ol/ul, div, spam
Example:
```
<body>
  <p>Body</p>
  <header>
    <p>Header - <span>Span</span></p>
    <nav>
      Navigation
      <div>Div</div>
      <div>Div</div>
    </nav>
  </header>

  <main>
    <section>
      <p>Section</p>
      <ul>
        <li>List</li>
        <li>List</li>
        <li>List</li>
      </ul>
    </section>
    <section>
      <p>Section</p>
      <table>
        <tr>
          <th>Table</th>
          <th>Table</th>
          <th>Table</th>
        </tr>
        <tr>
          <td>table</td>
          <td>table</td>
          <td>table</td>
        </tr>
      </table>
    </section>
    <aside>
      <p>Aside</p>
    </aside>
  </main>

  <footer>
    <div>Footer - <span>Span</span></div>
  </footer>
</body>
```
### HTML Input Elements

HTML includes many ways to accept user data input. Form was the original essential method to change the application based on user input. With JavaScript that has become unnecessary, but form is sometimes still used.
inputs have many types, can be determined wtih the type attribute.
some attributes:
- name
- disabled
- value
- required

attributes like these can confirm input data is correct or valid. This will be used for startup to ensure that input is valid, such as in authentication, during login.

### HTML Media Elements

elements represent media:
- img
- audio
- video
- svg (contain code to render an animated image)
- canvas (contain code to render an animated image)

media tags take a URL as an attribute. There is full path for URLs and relative path, helps to avoid adjusting all external page references.

adding an image code:
```<img alt="mountain landscape" src="https://images.pexels.com/photos/164170/pexels-photo-164170.jpeg" />```

audio code:
```<audio controls src="testAudio.mp3"></audio>```

video code:
``` <video controls width="300" crossorigin="anonymous">  <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" /></video> ```

svg and canva allow you to create images within html. 


### CSS Frameworks

As web developers built more web apps, similar patterns were put into open source code, making it available to everyone and speeding up time for web development. Many frameworks exist today, all have similar functionality, but add something different.

Bootstrap is the most widely used framework. To use Bootstrap, a link to the package needs to be included in the head of html, giving access to bootstrap.

### Javascript - Arrays

arrays work very similar to lists, there are many functions and commands that can be used with arrays. Sample syntax:
```
function testAll(input, tester) {
  return input.every(tester);
}

const result = testAll(["abc", "bbbbb"], (i) => i.length > 3);

console.log(result);
```

### Javascript - Document Object Model (DOM)

For everything in html there is a node, every title word whitespace all is connected to a node. They all comprise of a tree, all underneath the html root node. Nodes can be accessed by the parent node. if adding children, they must be fst be created on the DOM, then inserted to the parent by appending:
```
function insertChild(parentSelector, text) {
  const newChild = document.createElement('div');
  newChild.textContent = text;

  const parentElement = document.querySelector(parentSelector);
  parentElement.appendChild(newChild);
}

insertChild('#courses', 'new course');
```
to delete elements, call the removeChild function on the parent element.

The DOM also allows you to inject entire blocks of HTML into an element. The following code finds the first div element in the DOM and replaces all the HTML it contains:
```
const el = document.querySelector('div');
el.innerHTML = '<div class="injected"><b>Hello</b>!</div>';
```
injecting html with javascript is an easy way for hackers to find access. here is an example of how a hacker would get through an image element:
```
<img src="bogus.png" onerror="console.log('All your base are belong to us')" />
```
DOM elements can have a function that is called whenever an event occurs on an element. These are event listeners. Event listener called when clicked:
```
const submitDataEl = document.querySelector('#submitData');
submitDataEl.addEventListener('click', function (event) {
  console.log(event.type);
});
```

`log` will output to the console. CSS parameters can also be included in log.
timers will show how long a piece of code is executed, use `time` and `timeEnd` to wrap said code.
To see how many times a block of code is called use the `count` function.


### React - Reactivity

Three major components for reactivity: `props`, `state`, and `render`. 
how React works:
App: Top level component that manages the color state.
ColorDisplay: Displays the currently selected color.
ColorPicker: Displays the color and allows for the selection of a new color.

using a `React.useState` function makes a state variable, this is how the value of an object changes with a change of state.
ex: 
```
const [color, updateColor] = React.useState('#737AB0');
```

### React - Promises

promise execution states:
pending - Currently running asynchronously
fulfilled - Completed successfully
rejected - Failed to complete

`setTimeout` is a function that can be used to delay the execution of code. Example:
```
const delay = (msg, wait) => {
  setTimeout(() => {
    console.log(msg, wait);
  }, 1000 * wait);
};

new Promise((resolve, reject) => {
  // Code executing in the promise
  for (let i = 0; i < 3; i++) {
    delay('In promise', i);
  }
});

// Code executing after the promise
for (let i = 0; i < 3; i++) {
  delay('After promise', i);
}

// OUTPUT:
//   In promise 0
//   After promise 0
//   In promise 1
//   After promise 1
//   In promise 2
//   After promise 2
```
Another Promise code that flips a coin, after delay there is a fifty fifty chance:
```
const coinToss = new Promise((resolve, reject) => {
  setTimeout(() => {
    if (Math.random() > 0.5) {
      resolve('success');
    } else {
      reject('error');
    }
  }, 10000);
});
```
The promise object has three functions: then, catch, and finally. The then function is called if the promise is fulfilled, catch is called if the promise is rejected, and finally is always called after all the processing is completed.

adding a 10 percent chance of the coin falling off the table to our coin toss code:
```
const coinToss = new Promise((resolve, reject) => {
  setTimeout(() => {
    if (Math.random() > 0.1) {
      resolve(Math.random() > 0.5 ? 'heads' : 'tails');
    } else {
      reject('fell off table');
    }
  }, 10000);
});


coinToss
  .then((result) => console.log(`Coin toss result: ${result}`))
  .catch((err) => console.log(`Error: ${err}`))
  .finally(() => console.log('Toss completed'));

// OUTPUT:
//    Coin toss result: tails
//    Toss completed
```

### React - Async/Await

asynchronous functions are functions that allow a program to start a long term task without waiting for it to finish, it can run in the background and the rest of the application can continue to work.
Await waits for a fulfilled promise condition, or throws an exception. heres an async/await version of above coin flip code instead of then, catch, finally:
```
try {
  const result = await coinToss();
  console.log(`Toss result ${result}`);
} catch (err) {
  console.error(`Error: ${err}`);
} finally {
  console.log(`Toss completed`);
}
```
```
function cow() {
  return 'moo';
}
console.log(cow());
// OUTPUT: moo

async function cow() {
  return 'moo';
}
console.log(cow());
// OUTPUT: Promise {<fulfilled>: 'moo'}

async function cow() {
  return new Promise((resolve) => {
    resolve('moo');
  });
}
console.log(cow());
// OUTPUT: Promise {<pending>}
```
Async keyword means a function returns a promise. 

### Web Services - Fetch

HTTP requests have changed the Web from static HTML pages (Web 1.0) to one of web applications (Web 2.0) that interact with the user. Today fetch API is the preferred way to make HTTP requests. Fetch takes a URL and returns a promise. The promise `then` function asynchronously takes a callback function. 
The following example makes a fetch request to get and display an inspirational quote. If the request method is unspecified, it defaults to GET.
```
fetch('https://quote.cs260.click')
  .then((response) => response.json())
  .then((jsonResponse) => {
    console.log(jsonResponse);
  });
```
response:
```
{
  author: 'Kyle Simpson',
  quote: "There's nothing more permanent than a temporary hack."
}
```
To do a POST request you populate the options parameter with the HTTP method and headers.
```
fetch('https://jsonplaceholder.typicode.com/posts', {
  method: 'POST',
  body: JSON.stringify({
    title: 'test title',
    body: 'test body',
    userId: 1,
  }),
  headers: {
    'Content-type': 'application/json; charset=UTF-8',
  },
})
  .then((response) => response.json())
  .then((jsonResponse) => {
    console.log(jsonResponse);
  });
```




## Startup Notes

### HTML

I learned a lot implementing HTML, learned all about the structure, including head and body, with the body including header, main, and footer. there are many different functions to display information, including `<p>` `<a>` `<table>` and many more. `<img width="" src="">` will display a picture, can also use `<a><href>` to add links.
I can use the live server extension to see the changes I've applied, and also use inspect to debug and see what different code is doing on my page. 
HTML builds the structure of the website, there is no interactivity, at least very limited, but makes a framework.

### CSS

I learned about the many functions and applications of CSS. these tools can be used to add font and style to text, change marigins, borders, and more. using frameworks allows you to access existing CSS content, such as bootstrapp and you can use their premade designs. I appreciate learning about flex, which helps to keep content within the window if it is resized, or rotated. to allow css to attach to the html, in the html code you need to add classes, which link to classes defined in css, pointing to set parameters for borders, fonts, colors, margins, or whatever is set in the class.

### React Phase 1

I learned about the efficiency of using React, being able to use routes and components so that html pages are kept to a minimum, can prepare for user interaction. Components are the main elements from my html pages. 



## Class Notes

<img src="https://github.com/user-attachments/assets/6e4898a9-191b-41aa-88d7-9a1d0b72de1f" width="400"/>

<img src="https://github.com/user-attachments/assets/6c30e360-4788-4828-a80a-ab3101a6184d" width="400"/>

<img src="https://github.com/user-attachments/assets/82a72a21-50da-4c6b-a680-7f21c2008ea2" width="400"/>






# Example repo

## AWS

My IP address is: 54.81.96.130
Launching my AMI I initially put it on a private subnet. Even though it had a public IP address and the security group was right, I wasn't able to connect to it.

## Caddy

No problems worked just like it said in the [instruction](https://github.com/webprogramming260/.github/blob/main/profile/webServers/https/https.md).

## HTML

This was easy. I was careful to use the correct structural elements such as header, footer, main, nav, and form. The links between the three views work great using the `a` element.

The part I didn't like was the duplication of the header and footer code. This is messy, but it will get cleaned up when I get to React.

## CSS

This took a couple hours to get it how I wanted. It was important to make it responsive and Bootstrap helped with that. It looks great on all kinds of screen sizes.

Bootstrap seems a bit like magic. It styles things nicely, but is very opinionated. You either do, or you do not. There doesn't seem to be much in between.

I did like the navbar it made it super easy to build a responsive header.

```html
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand">
            <img src="logo.svg" width="30" height="30" class="d-inline-block align-top" alt="" />
            Calmer
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" href="play.html">Play</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="about.html">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="index.html">Logout</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
```

I also used SVG to make the icon and logo for the app. This turned out to be a piece of cake.

```html
<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
  <rect width="100" height="100" fill="#0066aa" rx="10" ry="10" />
  <text x="50%" y="50%" dominant-baseline="central" text-anchor="middle" font-size="72" font-family="Arial" fill="white">C</text>
</svg>
```

## React Part 1: Routing

Setting up Vite and React was pretty simple. I had a bit of trouble because of conflicting CSS. This isn't as straight forward as you would find with Svelte or Vue, but I made it work in the end. If there was a ton of CSS it would be a real problem. It sure was nice to have the code structured in a more usable way.

## React Part 2: Reactivity

This was a lot of fun to see it all come together. I had to keep remembering to use React state instead of just manipulating the DOM directly.

Handling the toggling of the checkboxes was particularly interesting.

```jsx
<div className="input-group sound-button-container">
  {calmSoundTypes.map((sound, index) => (
    <div key={index} className="form-check form-switch">
      <input
        className="form-check-input"
        type="checkbox"
        value={sound}
        id={sound}
        onChange={() => togglePlay(sound)}
        checked={selectedSounds.includes(sound)}
      ></input>
      <label className="form-check-label" htmlFor={sound}>
        {sound}
      </label>
    </div>
  ))}
</div>
```
